<div class="main-content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-12">
        <div class="card">
          <div class="card-header">
            <div class="row">
              <div class="col">
                <h3 class="card-title">فهرست کاربران</h3>
              </div>
            </div>
          </div>
          <div class="card-body nopadding">
            <div class="row">
              <div class="col-md-12">
                <div class="mat-elevation-z8 table-responsive">
                  <table mat-table [dataSource]="usersList" >
                    <!-- ID Column -->
                    <ng-container matColumnDef="id">
                      <th mat-header-cell *matHeaderCellDef >
                        شناسه
                      </th>
                      <td mat-cell *matCellDef="let row">
                        {{row.id}}
                      </td>
                    </ng-container>

                    <!-- Color Column -->
                    <ng-container matColumnDef="name" >
                      <th mat-header-cell *matHeaderCellDef >نام</th>
                      <td mat-cell *matCellDef="let row">
                        {{row.name}}
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="username">
                      <th mat-header-cell *matHeaderCellDef>نام کاربری</th>
                      <td mat-cell *matCellDef="let row">
                        {{row.username}}
                      </td>
                    </ng-container>

                    <ng-container matColumnDef="email">
                      <th mat-header-cell *matHeaderCellDef >ایمیل</th>
                      <td mat-cell *matCellDef="let row">
                        {{row.email}}
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="address">
                      <th mat-header-cell *matHeaderCellDef>آدرس </th>
                      <td mat-cell *matCellDef="let row">
                        {{row.address.city}}
                      </td>
                    </ng-container>
                    <ng-container matColumnDef="mobile">
                      <th mat-header-cell *matHeaderCellDef>شماره</th>
                      <td mat-cell *matCellDef="let row">{{row.phone}}</td>
                    </ng-container>

                    <ng-container matColumnDef="organization">
                      <th mat-header-cell *matHeaderCellDef >نام شرکت </th>
                      <td mat-cell *matCellDef="let row">{{row.company.name}}</td>
                    </ng-container>
                    <ng-container matColumnDef="website">
                      <th mat-header-cell *matHeaderCellDef  >وب سایت </th>
                      <td mat-cell *matCellDef="let row" >{{row.website}}</td>
                    </ng-container>
                    <!-- Action Column -->
                    <ng-container matColumnDef="id_search">
                      <th mat-header-cell *matHeaderCellDef>

                      </th>
                    </ng-container>

                    <ng-container matColumnDef="name_search">
                      <th mat-header-cell *matHeaderCellDef>
                        <form [formGroup]="nameForm">
                          <input autocomplete="off" class="tableinput" [matAutocomplete]="autoName"
                                 formControlName="name" >
                          <mat-autocomplete #autoName="matAutocomplete"
                                            [displayWith]="displayName">
                            <mat-option *ngFor="let option of filteredName | async"
                                        [value]="option">
                              <span>{{ option.name }}</span>
                            </mat-option>
                          </mat-autocomplete>
                        </form>
                      </th>
                    </ng-container>
                    <ng-container matColumnDef="username_search">
                      <th mat-header-cell *matHeaderCellDef>
                        <input autocomplete="off" type="text" class="tableinput" [ngModel]="searchParams.username" (ngModelChange)="search($event, 'username')"/>
                      </th>
                    </ng-container>
                    <ng-container matColumnDef="email_search">
                      <th mat-header-cell *matHeaderCellDef>
                        <input autocomplete="off" type="text" class="tableinput" [ngModel]="searchParams.email" (ngModelChange)="search($event, 'email')"/>
                      </th>
                    </ng-container>

                    <ng-container matColumnDef="address_search">
                      <th mat-header-cell *matHeaderCellDef>
                      </th>
                    </ng-container>
                    <ng-container matColumnDef="mobile_search">
                      <th mat-header-cell *matHeaderCellDef>
                        <input autocomplete="off" type="text" class="tableinput" [ngModel]="searchParams.phone" (ngModelChange)="search($event, 'phone')"/>
                      </th>
                    </ng-container>
                    <ng-container matColumnDef="organization_search">
                      <th mat-header-cell *matHeaderCellDef>

                      </th>
                    </ng-container>
                    <ng-container matColumnDef="website_search">
                      <th mat-header-cell *matHeaderCellDef>
                        <input autocomplete="off" type="text" class="tableinput" [ngModel]="searchParams.website" (ngModelChange)="search($event, 'website')"/>
                      </th>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    <tr mat-header-row *matHeaderRowDef="displayedCoulumnsDes"
                        class="example-second-header-row">
                    </tr>
                  </table>

                </div>

              </div>
            </div>
          </div>
          <!-- end content-->
        </div>
        <!--  end card  -->
      </div>
    </div>
  </div>
  <!-- end row -->
</div>
